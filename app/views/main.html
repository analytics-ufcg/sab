<section class="map-container">

  <div class="map-info">
    <div class="input-group">
      <span class="input-group-addon"><span class="glyphicon glyphicon-search"></span></span>
      <input
        type="text"
        class="form-control"
        placeholder="Pesquisar..."
        ng-model="reservatorioSelecionado"
        uib-typeahead="reservatorio as (reservatorio.nome + ' (' + reservatorio.municipio + ' - ' + reservatorio.estado + ')') for reservatorio in main.reservatorios | filter:$viewValue"
        typeahead-min-length="3"
        typeahead-on-select="main.setReservatorio(reservatorioSelecionado)">
    </div>
    <div class="map-description" ng-show="main.reservatorioSelecionado.reservat">
      <div class="map-item-title">{{main.reservatorioSelecionado.reservat}}</div>
      <div class="row">
        <div class="col-xs-4 col-sm-8">
          <div class="map-item-row" ng-show="main.reservatorioSelecionado.nome"><strong>Nome</strong> {{main.reservatorioSelecionado.nome}}</div>
          <div class="map-item-row" ng-show="main.reservatorioSelecionado.capacidade"><strong>Capacidade</strong> {{main.reservatorioSelecionado.capacidade}}hm³</div>
          <div class="map-item-row" ng-show="main.reservatorioSelecionado.volume"><strong>Volume</strong> {{main.reservatorioSelecionado.volume}}hm³</div>
          <div class="map-item-row" ng-show="main.reservatorioSelecionado.bacia"><strong>Bacia</strong> {{main.reservatorioSelecionado.bacia}}</div>
          <div class="map-item-row" ng-show="main.reservatorioSelecionado.municipio"><strong>Localidade</strong> {{main.reservatorioSelecionado.municipio + ' - ' + main.reservatorioSelecionado.estado}}</div>
          <div class="map-item-row" ng-show="main.reservatorioSelecionado.tipo"><strong>Tipo</strong> {{main.reservatorioSelecionado.tipo}}</div>
          <div class="map-item-row" ng-show="main.reservatorioSelecionado.area"><strong>Área</strong> {{main.reservatorioSelecionado.area}}m²</div>

        </div>
        <div class="col-xs-8 col-sm-4">
          <sab-volume volume="main.reservatorioSelecionado.volume_percentual" verificado-em="main.reservatorioSelecionado.data_informacao" ng-show="main.reservatorioSelecionado.volumes.length"></sab-volume>
        </div>
      </div>

      <div class="map-graph" ng-if="main.reservatorioSelecionado.volumes.length">

        <sab-reservatorio-historico
          monitoramento="main.reservatorioSelecionado.volumes"
          slider="main.slider">
          </sab-reservatorio-historico>

        <rzslider rz-slider-model="main.slider.minValue"
                  rz-slider-high="main.slider.maxValue"
                  rz-slider-options="main.slider.options"></rzslider>
      </div>
      <p class="mensagem-monitoramento" ng-hide="main.reservatorioSelecionado.volumes.length">Não possui dados de monitoramento</p>

    </div>
  </div>
  <div id="map">
    <sab-mapa on-select-reservatorio="main.setReservatorioByID" reservatorio-selecionado="main.reservatorioSelecionado"></sab-mapa>
  </div>
</section>
